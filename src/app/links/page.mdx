export const metadata = {
  title: 'Links',
  description:
    'The link API allows you to create, update, and delete links, as well as retrieve QR codes for them.',
}

# Links
The link API allows you to create, update, and delete links, as well as retrieve QR codes for them.

## The object
The link object has the following attributes:

<Properties>
  <Property name="id" type="uuid">
    The link id.
  </Property>
  <Property name="workspace_id" type="uuid">
    The workspace where link is associated.
  </Property>
  <Property name="domain" type="string">
    The domain for the link, example: `git.now`.
  </Property>
  <Property name="key" type="string">
    The key for the link, example: `paulocastellano`.
  </Property>
  <Property name="url" type="string">
    The URL for the link, example: `git.now/paulocastellano`.
  </Property>
  <Property name="link" type="string">
    The full link, example: `https://git.now/paulocastellano`.
  </Property>
  <Property name="ios" type="string">
    The iOS url for the link, used for Targeted Traffic, example: `https://apps.apple.com/app/333903271`.
  </Property>
  <Property name="android" type="string">
    The Android url for the link, used for Targeted Traffic, example: `https://play.google.com/store/apps/details?id=com.twitter.android`.
  </Property>
  <Property name="utm_source" type="string">
    The utm source for the link, example: `facebook`.
  </Property>
  <Property name="utm_medium" type="string">
    The utm medium for the link, example: `social`.
  </Property>
  <Property name="utm_campaign" type="string">
    The utm campaign for the link, example: `black-friday`.
  </Property>
  <Property name="utm_term" type="string">
    The utm term for the link, example: `macbook-pro`.
  </Property>
  <Property name="utm_content" type="string">
    The utm content for the link, example: `creative-one`.
  </Property>
  <Property name="utm_name" type="string">
    The utm name for the link, example: `macbook-pro-creative-one`.
  </Property>
  <Property name="clicks" type="integer">
    The number of clicks for the link.
  </Property>
  <Property name="last_click" type="integer">
    The last click for the link.
  </Property>
  <Property name="external_id" type="integer">
    The external_id for the link, it can be used to identify the link in an external system.
  </Property>
  <Property name="password" type="integer">
    If the link is password protected, the encrypted password will be stored here.
  </Property>
  <Property name="expires_at" type="datetime">
    The date and time when the link will expire.
  </Property>
  <Property name="expired_redirect_url" type="string">
    The URL to redirect to if the link is expired.
  </Property>
  <Property name="tags" type="array">
    The tags for the link.
  </Property>
  <Property name="created_at" type="timestamp">
    Timestamp of when the link was created.
  </Property>
  <Property name="updated_at" type="timestamp">
    Timestamp of when the link was last updated.
  </Property>
</Properties>

---

## List {{ tag: 'GET', label: '/links' }}

<Row>
  <Col>
    This enpoint allows you to get a list paginated of links associated with the workspace.
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/links">

    ```bash {{ title: 'cURL' }}
    curl -X GET https://lua.sh/api/v1/links \
      -H "Authorization: Bearer {token}" \
      -H "Content-Type: application/json"
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "data": [
        {
          "id": "9d61376a-9069-4193-941a-cd783cfc147d",
          "workspace_id": "9d5f3cf9-fa6f-498b-b5be-bd078b7d5339",
          "domain": "git.now",
          "key": "paulocastellano",
          "url": "https://github.com/paulocastellano",
          "link": "https://git.now/paulocastellano",
          "ios": null,
          "android": null,
          "utm_source": null,
          "utm_medium": null,
          "utm_campaign": null,
          "utm_term": null,
          "utm_content": null,
          "utm_name": null,
          "clicks": 0,
          "last_click": null,
          "external_id": null,
          "password": null,
          "expires_at": null,
          "expired_redirect_url": null,
          "tags": [],
          "created_at": "2024-10-31T21:04:31.000000Z",
          "updated_at": "2024-10-31T21:04:31.000000Z"
        }
      ],
      "links": {
        "first": "https://lua.sh/api/v1/links?page=1",
        "last": "https://lua.sh/api/v1/links?page=1",
        "prev": null,
        "next": null
      },
      "meta": {
        "current_page": 1,
        "from": 1,
        "last_page": 1,
        "links": [
          {
            "url": null,
            "label": "Previous",
            "active": false
          },
          {
            "url": "https://lua.sh/api/v1/links?page=1",
            "label": "1",
            "active": true
          },
          {
            "url": null,
            "label": "Next",
            "active": false
          }
        ],
        "path": "https://lua.sh/api/v1/links",
        "per_page": 25,
        "to": 1,
        "total": 1
      }
    }
  ```
  </Col>
</Row>

---

## Create {{ tag: 'POST', label: '/links' }}

<Row>
  <Col>

    This endpoint allows you to create a new link.

    ### Attributes

    <Properties>
      <Property name="key" type="string" required>
        The link key, Example: `paulocastellano`.
      </Property>
      <Property name="domain" type="string" required>
        The domain for the link, Example: `git.now`.
      </Property>
      <Property name="url" type="string" required>
        The URL for the link, Example: `https://github.com/paulocastellano`.
      </Property>
    </Properties>
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/links">

    ```bash {{ title: 'cURL' }}
    curl -X POST https://lua.sh/api/v1/links \
      -H "Authorization: Bearer {token}" \
      -H "Content-Type: application/json" \
      -d key="paulocastellano" \
      -d domain="git.now" \
      -d url="https://github.com/paulocastellano"
    ```
    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "9d8558af-997f-4a96-88dc-a515b6c1b567",
      "workspace_id": "9d5f3cf9-fa6f-498b-b5be-bd078b7d5339",
      "domain": "git.now",
      "key": "paulocastellano",
      "url": "https://github.com/paulocastellano",
      "link": "https://git.now/paulocastellano",
      "ios": null,
      "android": null,
      "utm_source": null,
      "utm_medium": null,
      "utm_campaign": null,
      "utm_term": null,
      "utm_content": null,
      "utm_name": null,
      "clicks": null,
      "last_click": null,
      "external_id": null,
      "password": null,
      "expires_at": null,
      "expired_redirect_url": null,
      "tags": [],
      "created_at": "2024-11-18T20:07:21.000000Z",
      "updated_at": "2024-11-18T20:07:21.000000Z"
    }
    ```

  </Col>
</Row>

---

## Update {{ tag: 'PUT', label: '/links/{id}' }}

<Row>
  <Col>
    This endpoint enables you to update the details of a link.

    ### Attributes
    <Properties>
      <Property name="key" type="string" required>
        The link key, Example: `paulocastellano`.
      </Property>
      <Property name="domain" type="string" required>
        The domain for the link, Example: `git.now`.
      </Property>
      <Property name="url" type="string" required>
        The URL for the link, Example: `https://github.com/paulocastellano`.
      </Property>
    </Properties>
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="PUT" label="/links/{id}">

    ```bash {{ title: 'cURL' }}
    curl -X PUT https://lua.sh/api/v1/links/{id} \
      -H "Authorization: Bearer {token}" \
      -H "Content-Type: application/json" \
      -d key="paulocastellano" \
      -d domain="git.now" \
      -d url="https://github.com/paulocastellano"
    ```

    </CodeGroup>
    ```json {{ title: 'Response' }}
    {
      "id": "9d8558af-997f-4a96-88dc-a515b6c1b567",
      "workspace_id": "9d5f3cf9-fa6f-498b-b5be-bd078b7d5339",
      "domain": "git.now",
      "key": "paulocastellano",
      "url": "https://github.com/paulocastellano",
      "link": "https://git.now/paulocastellano",
      "ios": null,
      "android": null,
      "utm_source": null,
      "utm_medium": null,
      "utm_campaign": null,
      "utm_term": null,
      "utm_content": null,
      "utm_name": null,
      "clicks": 0,
      "last_click": null,
      "external_id": null,
      "password": null,
      "expires_at": null,
      "expired_redirect_url": null,
      "tags": [],
      "created_at": "2024-11-18T20:07:21.000000Z",
      "updated_at": "2024-11-18T20:11:23.000000Z"
    }
    ```
  </Col>
</Row>

---

## Show {{ tag: 'GET', label: '/links/{id}' }}

<Row>
  <Col>
    This endpoint enables you to retrieve the details of a link.

    ### Attributes

    <Properties>
      <Property name="id" type="uuid" required>
        The unique identifier for the link.
      </Property>
    </Properties>
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="PUT" label="/links/{id}">

    ```bash {{ title: 'cURL' }}
    curl -X GET https://lua.sh/api/v1/links/{id} \
      -H "Authorization: Bearer {token}" \
      -H "Content-Type: application/json"
    ```

    </CodeGroup>
    ```json {{ title: 'Response' }}
    {
      "id": "9d60cc1f-953a-4ade-8c80-aaa87835afb2",
      "workspace_id": "9d5f3cf9-fa6f-498b-b5be-bd078b7d5339",
      "domain": "git.now",
      "key": "paulocastellano",
      "url": "https://github.com/paulocastellano",
      "link": "https://git.now/paulocastellano",
      "ios": null,
      "android": null,
      "utm_source": null,
      "utm_medium": null,
      "utm_campaign": null,
      "utm_term": null,
      "utm_content": null,
      "utm_name": null,
      "clicks": 0,
      "last_click": null,
      "external_id": null,
      "password": null,
      "expires_at": null,
      "expired_redirect_url": null,
      "tags": [],
      "created_at": "2024-10-31T16:04:30.000000Z",
      "updated_at": "2024-10-31T16:04:30.000000Z"
    }
    ```
  </Col>
</Row>

---

## Qr code {{ tag: 'GET', label: '/links/{id}/qr-code' }}

<Row>
  <Col>
    This endpoint enables you to retrieve the QR code for a link.

    ### Attributes

    <Properties>
      <Property name="id" type="uuid" required>
        The link id.
      </Property>
      <Property name="download" type="boolean">
        By default it's false, if you want to download the QR code pass `true`.
      </Property>
      <Property name="color" type="string">
        You can pass a color to the QR code, Example: `#000000`.
      </Property>
    </Properties>
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/links/{id}/qr-code">

    ```bash {{ title: 'cURL' }}
    curl -X PUT https://lua.sh/api/v1/links/{id}/qr-code \
      -H "Authorization: Bearer {token}" \
      -H "Content-Type: application/json"
    ```

    </CodeGroup>
    ``` {{ title: 'Response' }}
    The response will be a PNG blob with the QR code.
    ```
  </Col>
</Row>

---

## Delete {{ tag: 'DELETE', label: '/links/{id}' }}

<Row>
  <Col>
    This endpoint allows you to delete a link.

     ### Attributes

    <Properties>
      <Property name="id" type="uuid" required>
        The link id.
      </Property>
    </Properties>
  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="DELETE" label="/links/{id}">

    ```bash {{ title: 'cURL' }}
    curl -X DELETE https://lua.sh/api/v1/links/{id} \
      -H "Authorization: Bearer {token}" \
      -H "Content-Type: application/json"
    ```
    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "message": "Link deleted"
    }
    ```
  </Col>
</Row>
